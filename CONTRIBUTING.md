# Contributing to Katamari

このリポジトリは個人でメンテナンスしている OSS です。作業の流れはシンプルに保ち、気軽に改善案を試せることを大切にしています。

## 作業の進め方
- `main` に直接コミットして構いません。履歴を整理したい場合だけ `feature/<説明>` のようなブランチを作成してください。
- Issue が無くても OK ですが、挙動の相談やタスクのメモは Issue にまとめておくと後で追跡しやすくなります。
- 変更が小さく済むように意識し、レビューしやすい粒度で Pull Request を作成してください。

## コミットと Pull Request
- コミットメッセージは簡潔な日本語または英語で要点を 1 行に書きます。
- Pull Request はテンプレートをそのまま使い、埋められる項目だけで構いません。未実施のことは空欄のままで問題ありません。
- レビューは基本的にメンテナー自身が行います。気になる点があれば Draft のままメモを残してください。

## チェックしてほしいこと
- Python のコードを触った場合は `ruff check .` と `mypy --strict` と `pytest -q` を一度ずつ実行してください。
- Node/フロントエンドに触れた場合は `pnpm run lint` と `pnpm run test` を目安に実行します。対象外なら「対象外」とだけ PR に書けば大丈夫です。
- テストのログは全文を貼る必要はありません。成功したことが分かる一行があれば十分です。

## 改行ポリシー
- ルートの `.gitattributes` で `* text=auto` を指定し、改行コードを自動正規化します。
- Shell/Python/Makefile 系のファイルは LF、PowerShell (`*.ps1`, `*.psm1`) は CRLF に固定しています。
- 既存ファイルの改行差分を調整したい場合は `git add --renormalize .` を使い、意図しない変更が無いか確認してください。

## メンテナーからのお願い
- 機密情報（API キー等）はコミットに含めないでください。
- 大きめの設計変更を検討する際は、先に Issue や Discussion で方針を共有してもらえると助かります。
- わからない点や迷った点は遠慮なくコメントしてください。ドキュメントの更新だけでも歓迎です。
